var app=angular.module("de.cismet.uim2020-html5-demonstrator",["ngResource","ngAnimate","ngSanitize","ui.router","ui.bootstrap","ui.bootstrap.tpls","ct.ui.router.extras.sticky","ct.ui.router.extras.dsr","leaflet-directive","ngTable","mgo-angular-wizard","de.cismet.uim2020-html5-demonstrator.controllers","de.cismet.uim2020-html5-demonstrator.directives","de.cismet.uim2020-html5-demonstrator.services","de.cismet.uim2020-html5-demonstrator.filters","de.cismet.uim2020-html5-demonstrator.factories"]);app.config(["$logProvider","$stateProvider","$urlRouterProvider",function(a,b,c){"use strict";a.debugEnabled(!1),c.otherwise("/search/map"),b.state("main",{"abstract":!0,url:"",views:{"main@":{templateUrl:"views/main.html",controller:["$scope",function(a){console.log("main instance created"),a.name="main",this.name="this.main"}],controllerAs:"mainVm"}}}),b.state("main.search",{url:"/search",sticky:!0,deepStateRedirect:{"default":{state:"main.search.map",params:{zoom:"15"}}},views:{"search@main":{templateUrl:"views/search/index.html",controller:["$scope",function(a){console.log("main.search instance created"),a.name="main.search",this.name="this.main.search"}],controllerAs:"searchVm"},"search-toolbar@main.search":{templateUrl:"views/search/toolbar.html",controller:["$scope",function(a){console.log("main.search.toolbar instance created"),a.name="main.search.toolbar",this.name="this.main.search.toolbar"}],controllerAs:"toolbarVm"}}}),b.state("main.search.map",{url:"/map?{center:int}&{zoom:int}",sticky:!0,views:{"search-map@main.search":{templateUrl:"views/search/map.html",controller:"mapController",controllerAs:"mapVm"}}}),b.state("main.search.list",{url:"/list",sticky:!0,views:{"search-list@main.search":{templateUrl:"views/search/list.html",controller:"listController",controllerAs:"listVm"}}}),b.state("main.analysis",{url:"/analysis",sticky:!0,deepStateRedirect:{"default":{state:"main.analysis.map",params:{zoom:"14"}}},views:{"analysis@main":{templateUrl:"views/analysis/index.html",controller:["$scope",function(a){console.log("main.analysis instance created"),a.name="main.analysis",this.name="this.main.analysis"}],controllerAs:"analysisVm"},"analysis-toolbar@main.analysis":{templateUrl:"views/analysis/toolbar.html",controller:["$scope",function(a){console.log("main.analysis.toolbar instance created"),a.name="main.analysis.toolbar",this.name="this.main.analysis.toolbar"}],controllerAs:"toolbarVm"}}}),b.state("main.analysis.map",{url:"/map?{center:int}&{zoom:int}",views:{"analysis-map@main.analysis":{templateUrl:"views/analysis/map.html",controller:["$scope","$stateParams","$state",function(a,b,c){console.log("main.analysis.map instance created"),a.name="main.analysis.map";var d=this;this.name="this.main.analysis.map",this.center=b.center,this.zoom=b.zoom,a.$watch(function(){return d.zoom},function(a,b){d.zoom&&a!==b&&c.go("main.analysis.map",{zoom:d.zoom},{inherit:!0,notify:!1,reload:!1}).then(function(a){console.log(a)})})}],controllerAs:"mapVm"}},onEnter:function(){console.log("enter main.analysis.map")},onExit:function(){console.log("exit main.analysis.map")}}),b.state("main.analysis.list",{url:"/list",views:{"analysis-list@main.analysis":{templateUrl:"views/analysis/list.html",controller:["$scope",function(a){console.log("main.analysis.list instance created"),a.name="main.analysis.list",this.name="this.main.analysis.list"}],controllerAs:"listVm"}}}),b.state("main.protocol",{url:"/protocol",sticky:!0,templateUrl:"views/protocol/index.html"})}]),app.run(["$rootScope","$state","$stateParams","$stickyState",function(a,b,c,d){"use strict";a.$state=b,a.$stateParams=c,a.$on("$stateChangeError",console.log.bind(console))}]),angular.module("de.cismet.uim2020-html5-demonstrator.controllers",[]),angular.module("de.cismet.uim2020-html5-demonstrator.controllers").controller("listController",["$scope","NgTableParams",function(a,b){"use strict";var c=this,d=[{name:"Moroni",age:50}];c.tableParams=new b({},{dataset:d}),console.log("new listController instance created from "+a.name)}]),angular.module("de.cismet.uim2020-html5-demonstrator.controllers").controller("mapController",["$scope",function(a){"use strict";console.log("new mapController instance created from "+a.name)}]),angular.module("de.cismet.uim2020-html5-demonstrator.controllers").controller("masterController",["$scope","appConfig","leafletData","geoTools",function(a,b,c,d){"use strict";var e,f,g,h,i,j,k,l,m,n,o,p;e=this,e.config=b,i=d.wicket,j=d.defaultStyle,k=d.defaultDrawOptions,l=d.noDrawOptions,n=d.readSpatialCoverage,m=d.writeSpatialCoverage,f=d.fireResize,a.mapData={},a.mapData.center=e.config.mapView.home,a.mapData.defaults={tileLayer:e.config.mapView.backgroundLayer,attributionControl:!0,minZoom:e.config.minZoom,path:j},h=new L.FeatureGroup,g=new L.Control.Draw({draw:k,edit:{featureGroup:h}}),o=!0,c.getMap("mainmap").then(function(a){a.addLayer(h),a.addControl(g),a.on("draw:created",function(a){h.clearLayers(),h.addLayer(a.layer)}),a.on("draw:edited",function(){}),a.on("draw:deleted",function(a){console.log(a.layers.getLayers().length+" deleted"),h.clearLayers()})});var q="https://api.mapbox.com/styles/v1/mapbox/streets-v9/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiY3dtIiwiYSI6InFoYkpvS00ifQ.WHqQ_q865NKjIQB6Wpoi2w",r='© <a href="https://www.mapbox.com/map-feedback/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',s={attribution:r},t=L.tileLayer(q,s),u=L.tileLayer("http://{s}.tile.stamen.com/watercolor/{z}/{x}/{y}.jpg",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'});c.getMap("mainmap").then(function(b){a.map=b});var v={DRAW:h},w=L.control.layers({"ESRI StreetMap":u,OpenTopoMap:t},v);c.getMap("mainmap").then(function(a){w.addTo(a)}),c.getMap("mainmap").then(function(a){a.setView([42.09618442380296,-71.5045166015625],8);L.tileLayer("http://{s}.tile.stamen.com/watercolor/{z}/{x}/{y}.jpg",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'}).addTo(a);p=new L.Shapefile("bower_components/leaflet-shapefile/congress.zip",{onEachFeature:function(a,b){a.properties&&b.bindPopup(Object.keys(a.properties).map(function(b){return b+": "+a.properties[b]}).join("<br />uiui"),{maxHeight:200})}}),p.addTo(a),p.once("data:loaded",function(){})})}]),angular.module("de.cismet.uim2020-html5-demonstrator.directives",[]),angular.module("de.cismet.uim2020-html5-demonstrator.directives").directive("myDirective",[function(){"use strict";return{restrict:"E",templateUrl:"templates/my-directive.html",scope:{},controller:"myDirectiveController"}}]),angular.module("de.cismet.uim2020-html5-demonstrator.factories",[]),angular.module("de.cismet.uim2020-html5-demonstrator.factories").factory("appConfig",[function(){"use strict";var a={};return a.cidsRestApi={},a.cidsRestApi.host="http://localhost:8890",a.searchService={},a.searchService.username="admin@SWITCHON",a.searchService.password="cismet",a.searchService.defautLimit=10,a.searchService.maxLimit=50,a.searchService.host=a.cidsRestApi.host,a.mapView={},a.mapView.backgroundLayer="https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",a.mapView.home={},a.mapView.home.lat=49.245166,a.mapView.home.lng=6.936809,a.mapView.home.zoom=4,a.mapView.maxBounds={},a.mapView.maxBounds.southWest=[90,-180],a.mapView.maxBounds.northEast=[-90,180],a.mapView.minZoom=2,a.gui={},a.gui.dev=!1,a.objectInfo={},a.objectInfo.resourceJsonUrl="http://"+a.searchService.username+":"+a.searchService.password+"@"+a.searchService.host.replace(/.*?:\/\//g,""),a.objectInfo.resourceXmlUrl="http://tl-243.xtr.deltares.nl/csw?request=GetRecordById&service=CSW&version=2.0.2&namespace=xmlns%28csw=http://www.opengis.net/cat/csw/2.0.2%29&resultType=results&outputSchema=http://www.isotc211.org/2005/gmd&outputFormat=application/xml&ElementSetName=full&id=",a.byod={},a.byod.baseUrl="http://switchon.cismet.de/sip-snapshot",a.uploadtool={},a.uploadtool.baseUrl="http://dl-ng003.xtr.deltares.nl",a}]),angular.module("de.cismet.uim2020-html5-demonstrator.filters",[]),angular.module("de.cismet.uim2020-html5-demonstrator.services",["ngResource"]),angular.module("de.cismet.uim2020-html5-demonstrator.services").factory("geoTools",["leafletData",function(a){"use strict";var b,c,d,e,f,g,h;return b=new Wkt.Wkt,c={color:"#0000FF",fillOpacity:.3,weight:2,fill:!0,fillColor:"#1589FF",riseOnHover:!0,clickable:!0},e={polyline:!1,polygon:{shapeOptions:c,showArea:!0,metric:!0,allowIntersection:!1,drawError:{color:"#e1e100",message:"<strong>Oh snap!<strong> you can't draw that!</strong>"}},rectangle:{shapeOptions:c,metric:!0},circle:!1,marker:!1},d={polyline:!1,polygon:!1,rectangle:!1,circle:!1,marker:!1},f=function(a){if(a.spatialcoverage&&a.spatialcoverage.geo_field){var d=a.spatialcoverage.geo_field;-1!==d.indexOf(";")?b.read(d.substr(d.indexOf(";")+1)):b.read(d);var e=b.toObject(c);return e.setStyle(c),e}return void 0},g=function(a,b){if(b&&a.spatialcoverage){var c="SRID=4326;"+b;a.spatialcoverage.geo_field=c}},h=function(b){a.getMap(b).then(function(a){setTimeout(function(){a.invalidateSize()},50)})},{wicket:b,defaultStyle:c,defaultDrawOptions:e,noDrawOptions:d,readSpatialCoverage:f,writeSpatialCoverage:g,fireResize:h}}]),angular.module("de.cismet.uim2020-html5-demonstrator.services").factory("myService",[function(){"use strict";return{tellMe:function(){return"The 'scripts/services' folder contains the actual services that will automagically be processed during build."}}}]),angular.module("").run(["$templateCache",function(a){"use strict";a.put("templates/my-directive.html","<div>The 'templates' folder contains template htmls of directives that will automagically be processed during build.<br>The 'scripts/directives' folder contains the actual directives that will automagically be processed during build.<br>{{description}}<br>{{info}}</div>")}]);
//# sourceMappingURL=uim2020-html5-demonstrator.min.js.map